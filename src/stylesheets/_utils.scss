:root {
    --radius-button-border: 2px;
}

@mixin shadow-medium() {
    box-shadow: 0 var(--spacing-small) var(--radius-blur-medium) var(--radius-spread-medium) var(--color-shadow-medium);
}

@mixin shadow-small() {
    box-shadow: 0 var(--spacing-extra-small) var(--radius-blur-small) var(--radius-spread-small) var(--color-shadow-medium);
}

@mixin shadow-small-upward() {
    box-shadow: 0 (-var(--spacing-extra-small)) var(--radius-blur-small) var(--radius-spread-small) var(--color-shadow-medium);
}

@mixin shadow-large() {
    box-shadow: 0 var(--spacing-small-alt) var(--radius-blur-medium) var(--radius-spread-medium) var(--color-shadow-medium);
}

@mixin shadow-large-upward() {
    box-shadow: 0 (-var(--spacing-small-alt)) var(--radius-blur-medium) var(--radius-spread-medium) var(--color-shadow-medium);
}

@mixin shadow-large-dark() {
    box-shadow: 0 var(--spacing-small-alt) var(--radius-blur-medium) var(--radius-spread-medium) var(--color-shadow-dark);
}

@mixin shadow-button() {
    box-shadow: 0 1px 3px -1px var(--color-shadow-medium);
}

@mixin shadow-button-active() {
    box-shadow: 0 1px 2px -1px var(--color-shadow-medium);
}

@mixin transition-slow() {
    transition: var(--duration-transition-slow) all ease-in-out;
}

@mixin transition-medium() {
    transition: var(--duration-transition-medium) all ease-in-out;
}

@mixin transition-fast() {
    transition: var(--duration-transition-fast) all ease-in-out;
}

@mixin outline-button(var(--background-color)) {
    outline: var(--width-separator-thin) dotted get-text-color(var(--background-color));
    outline-offset: -var(--spacing-extra-small-alt);
}

@keyframes spin {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

/*
// Newton's method for calculation of square roots
@function sqrt(var(--r)) {
    --x0: 1;
    --x1: var(--x0);

    @for var(--i) from 1 through 10 {
        --x1: var(--x0) - (var(--x0) * var(--x0) - abs(var(--r))) / (2 * var(--x0));
        --x0: var(--x1);
    }

    @return var(--x1);
}

@function get-luminance(var(--color)) {
    --r: red(var(--color));
    --g: green(var(--color));
    --b: blue(var(--color));
    --l: sqrt(.299 * var(--r) * var(--r) + .587 * var(--g) * var(--g) + .114 * var(--b) * var(--b));
    @return var(--l);
}
*/

/*
@function get-text-color(--background-color, var(--color-for-light): var(--color-text-on-light), var(--color-for-dark): var(--color-text-on-dark)) {
    --l: get-luminance(var(--background-color));
    @if (var(--l) > 176) {
        @return var(--color-for-light);
    }

    @return var(--color-for-dark);
}
*/

@function get-text-color(--background-color, var(--color): var(--color-text)) {
    @return var(--color);
}

@mixin background-color(var(--background-color)) {
    background-color: var(--background-color);
    color: get-text-color(var(--background-color));
}

@mixin background-color-with-label-text(var(--background-color)) {
    background-color: var(--background-color);
    color: get-text-color(var(--background-color), var(--color-text-label));
}

@mixin background-color-with-disabled-text(var(--background-color)) {
    background-color: var(--background-color);
    color: get-text-color(var(--background-color), var(--color-text-disabled));
}

@function get-hover-color(var(--color)) {
    @return var(--color);
    // @return darken(var(--color), 10%);
}

%empty-text {
    color: var(--color-text-disabled);
}

%button-like-link {
    border: 0;
    border-radius: var(--radius-button-border);
    background-color: var(--color-foreground);
    padding: var(--spacing-small) var(--spacing-small-alt);
    text-transform: capitalize;
    color: var(--color-text-on-foreground);
    font-family: inherit;
    font-size: var(--font-size-small);
    @include shadow-button;

    &:active {
        transform: translateY(1px);
    }
}

@mixin button-like-link(var(--background-color)) {
    // @include shadow-button;
    display: inline-block;
    border: var(--width-separator-thin) solid var(--background-color);
    border-radius: var(--radius-button-border);
    // @include background-color(var(--background-color));
    background-color: var(--color-foreground);
    padding: var(--spacing-small) var(--spacing-small-alt);
    text-transform: capitalize;
    color: var(--background-color);
    font-size: var(--font-size-small);
    // font-weight: var(--font-weight-bold);

    &:active {
        @include shadow-button-active;
        transform: translateY(1px);
    }

    &:hover {
        background-color: var(--color-background-hover);
        // color: var(--background-color);
        // background-color: get-hover-color(var(--background-color));
    }

    &:focus {
        @include outline-button(var(--background-color));
    }
}

%transparent-button-like-link {
    border: 0;
    background-color: transparent;
    cursor: pointer;
    padding: var(--spacing-small) var(--spacing-small-alt);
    text-transform: uppercase;
    color: var(--color-text);
    font-family: inherit;
    font-size: var(--font-size-small);
    font-weight: var(--font-weight-bold);

    &:active {
        transform: translateY(1px);
    }
}

@mixin transparent-button-like-link(var(--color)) {
    @extend %transparent-button-like-link;
    display: inline-block;
    color: var(--color);
}

%background-alternating-row {
    background-color: var(--color-background-row);
    // color: var(--color-text-on-background-row);
    color: var(--color-text);

    &:nth-child(odd) {
        background-color: var(--color-background-row-alt);
        // color: var(--color-text-on-background-row-alt);
        color: var(--color-text);
    }
}
